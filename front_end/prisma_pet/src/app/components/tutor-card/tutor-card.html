<article class="card_tutor_container" [attr.aria-labelledby]="'tutor-' + userTutor.id">
  <div class="info_tutor">
    <h3 class="nome_tutor" [id]="'tutor-' + userTutor.id">
      {{ userTutor.name }}
    </h3>
    <p class="detalhes_tutor">
      {{ userTutor.phone | formatPhone }}
    </p>
  </div>

  <div class="botoes_tutor">
    <button type="button" class="btn_cadastro" (click)="goToFichaPet(userTutor.id)"
      [attr.aria-label]="'Ver cadastro completo de ' + userTutor.name">
      <span class="btn-text btn-text--total"> Animais</span>
      <span class="btn-text btn-text--menor">Ver</span>
    </button>

    @if (typeUser === 'admin') {
    <button
      type="button"
      class="btn_icon"
      (click)="openEditModal(userTutor)"
      aria-label="Editar cadastro"
    >
      <mat-icon fontSet="material-symbols-outlined" aria-hidden="true">edit</mat-icon>
    </button>

    <button
      type="button"
      class="btn_icon"
      (click)="openDeleteModal(userTutor)"
      aria-label="Excluir cadastro"
    >
      <mat-icon fontSet="material-symbols-outlined" aria-hidden="true">delete</mat-icon>
    </button>
    }
  </div>
</article>

@if(editModalOpen){
<app-modal-edit [user]="userTutor" (close)="closeEditModal()" (save)="saveTutor($event)" />
}


@if (deleteModalOpen) {
<app-modal-delete
  [title]="'Excluir Responsável'"
  [message]="'Tem certeza que deseja excluir ' + (userTutor.name || 'este responsável') + '?'"
  [confirmLabel]="'Excluir'"
  [cancelLabel]="'Cancelar'"
  (confirm)="handleConfirmDelete()"
  (cancel)="closeDeleteModal()"
></app-modal-delete>
}
